import{S as a,i as s,s as t,e,t as r,a as o,c,b as n,d as i,f as l,g as v,h,j as f,k as d,l as u,u as p,n as $,m,o as E,p as T,q as g,r as D,v as C,w as S,x as y,y as I,z as _,A as N,B as w,C as P,D as b,E as B,F as O,G as V}from"./client.49cdcb8e.js";import{r as j,C as x,a as q}from"./TableFilter.41877a16.js";function H(a,s,t){const e=a.slice();return e[1]=s[t],e}function k(a,s){let t,p,$,m,E,T,g,D,C,S,y,I,_,N,w,P=s[1].fullProvinceName+"",b=s[1].cases+"",B=s[1].deaths+"",O=s[1].tested+"";return{key:a,first:null,c(){t=e("tr"),p=e("td"),$=e("a"),m=r(P),T=o(),g=e("td"),D=r(b),C=o(),S=e("td"),y=r(B),I=o(),_=e("td"),N=r(O),w=o(),this.h()},l(a){t=c(a,"TR",{});var s=n(t);p=c(s,"TD",{});var e=n(p);$=c(e,"A",{href:!0});var r=n($);m=i(r,P),r.forEach(l),e.forEach(l),T=v(s),g=c(s,"TD",{});var o=n(g);D=i(o,b),o.forEach(l),C=v(s),S=c(s,"TD",{});var h=n(S);y=i(h,B),h.forEach(l),I=v(s),_=c(s,"TD",{});var f=n(_);N=i(f,O),f.forEach(l),w=v(s),s.forEach(l),this.h()},h(){h($,"href",E=s[1].province),this.first=t},m(a,s){f(a,t,s),d(t,p),d(p,$),d($,m),d(t,T),d(t,g),d(g,D),d(t,C),d(t,S),d(S,y),d(t,I),d(t,_),d(_,N),d(t,w)},p(a,t){s=a,1&t&&P!==(P=s[1].fullProvinceName+"")&&u(m,P),1&t&&E!==(E=s[1].province)&&h($,"href",E),1&t&&b!==(b=s[1].cases+"")&&u(D,b),1&t&&B!==(B=s[1].deaths+"")&&u(y,B),1&t&&O!==(O=s[1].tested+"")&&u(N,O)},d(a){a&&l(t)}}}function A(a){let s,t,u,E,T,g,D,C,S,y,I,_,N,w,P,b,B,O,V=[],j=new Map,x=a[0];const q=a=>a[1].province;for(let s=0;s<x.length;s+=1){let t=H(a,x,s),e=q(t);j.set(e,V[s]=k(e,t))}return{c(){s=e("div"),t=e("div"),u=e("table"),E=e("thead"),T=e("tr"),g=e("th"),D=r("Provinces"),C=o(),S=e("th"),y=r("Cases"),I=o(),_=e("th"),N=r("Deaths"),w=o(),P=e("th"),b=r("Total Tested"),B=o(),O=e("tbody");for(let a=0;a<V.length;a+=1)V[a].c();this.h()},l(a){s=c(a,"DIV",{class:!0});var e=n(s);t=c(e,"DIV",{class:!0});var r=n(t);u=c(r,"TABLE",{class:!0});var o=n(u);E=c(o,"THEAD",{});var h=n(E);T=c(h,"TR",{});var f=n(T);g=c(f,"TH",{});var d=n(g);D=i(d,"Provinces"),d.forEach(l),C=v(f),S=c(f,"TH",{});var p=n(S);y=i(p,"Cases"),p.forEach(l),I=v(f),_=c(f,"TH",{});var $=n(_);N=i($,"Deaths"),$.forEach(l),w=v(f),P=c(f,"TH",{});var m=n(P);b=i(m,"Total Tested"),m.forEach(l),f.forEach(l),h.forEach(l),B=v(o),O=c(o,"TBODY",{});var j=n(O);for(let a=0;a<V.length;a+=1)V[a].l(j);j.forEach(l),o.forEach(l),r.forEach(l),e.forEach(l),this.h()},h(){h(u,"class","table is-bordered is-striped svelte-1kzfsvs"),h(t,"class","container"),h(s,"class","section svelte-1kzfsvs")},m(a,e){f(a,s,e),d(s,t),d(t,u),d(u,E),d(E,T),d(T,g),d(g,D),d(T,C),d(T,S),d(S,y),d(T,I),d(T,_),d(_,N),d(T,w),d(T,P),d(P,b),d(u,B),d(u,O);for(let a=0;a<V.length;a+=1)V[a].m(O,null)},p(a,[s]){1&s&&(x=a[0],V=p(V,s,q,1,a,x,j,O,m,k,null,H))},i:$,o:$,d(a){a&&l(s);for(let a=0;a<V.length;a+=1)V[a].d()}}}function L(a,s,t){let{provinces:e}=s;return a.$$set=a=>{"provinces"in a&&t(0,e=a.provinces)},[e]}class U extends a{constructor(a){super(),s(this,a,L,A,t,{provinces:0})}}function z(a){let s,t,u,p,m,S,y,I,_,N,w,P,b,B,O,V,j,x,q;return{c(){s=e("div"),t=e("div"),u=e("div"),p=e("div"),m=e("input"),S=o(),y=e("div"),I=e("div"),_=e("select"),N=e("option"),w=r("By Province"),P=e("option"),b=r("Cases"),B=e("option"),O=r("Deaths"),V=e("option"),j=r("Tested"),this.h()},l(a){s=c(a,"DIV",{class:!0});var e=n(s);t=c(e,"DIV",{class:!0});var r=n(t);u=c(r,"DIV",{class:!0});var o=n(u);p=c(o,"DIV",{class:!0});var h=n(p);m=c(h,"INPUT",{type:!0,class:!0,placeholder:!0}),h.forEach(l),S=v(o),y=c(o,"DIV",{class:!0});var f=n(y);I=c(f,"DIV",{class:!0});var d=n(I);_=c(d,"SELECT",{class:!0});var $=n(_);N=c($,"OPTION",{});var E=n(N);w=i(E,"By Province"),E.forEach(l),P=c($,"OPTION",{});var T=n(P);b=i(T,"Cases"),T.forEach(l),B=c($,"OPTION",{});var g=n(B);O=i(g,"Deaths"),g.forEach(l),V=c($,"OPTION",{});var D=n(V);j=i(D,"Tested"),D.forEach(l),$.forEach(l),d.forEach(l),f.forEach(l),o.forEach(l),r.forEach(l),e.forEach(l),this.h()},h(){h(m,"type","text"),h(m,"class","input svelte-aqo83j"),h(m,"placeholder","Filter Provinces"),h(p,"class","column is-6 svelte-aqo83j"),N.__value="name",N.value=N.__value,P.__value="cases",P.value=P.__value,B.__value="deaths",B.value=B.__value,V.__value="tested",V.value=V.__value,h(_,"class","svelte-aqo83j"),void 0===a[1]&&E((()=>a[3].call(_))),h(I,"class","select svelte-aqo83j"),h(y,"class","column is-6 svelte-aqo83j"),h(u,"class","columns"),h(t,"class","container"),h(s,"class","section")},m(e,r){f(e,s,r),d(s,t),d(t,u),d(u,p),d(p,m),T(m,a[0]),d(u,S),d(u,y),d(y,I),d(I,_),d(_,N),d(N,w),d(_,P),d(P,b),d(_,B),d(B,O),d(_,V),d(V,j),g(_,a[1]),x||(q=[D(m,"input",a[2]),D(_,"change",a[3])],x=!0)},p(a,[s]){1&s&&m.value!==a[0]&&T(m,a[0]),2&s&&g(_,a[1])},i:$,o:$,d(a){a&&l(s),x=!1,C(q)}}}function F(a,s,t){let{provinceName:e=""}=s,{sortBy:r="name"}=s;return a.$$set=a=>{"provinceName"in a&&t(0,e=a.provinceName),"sortBy"in a&&t(1,r=a.sortBy)},[e,r,function(){e=this.value,t(0,e)},function(){r=S(this),t(1,r)}]}class R extends a{constructor(a){super(),s(this,a,F,z,t,{provinceName:0,sortBy:1})}}function G(a){let s,t,h,p,$,m,E,T,g,D,C;function S(s){a[4](s)}function V(s){a[5](s)}let j={};return void 0!==a[1]&&(j.provinceName=a[1]),void 0!==a[0]&&(j.sortBy=a[0]),m=new R({props:j}),y.push((()=>I(m,"provinceName",S))),y.push((()=>I(m,"sortBy",V))),D=new U({props:{provinces:a[2]}}),{c(){s=e("h1"),t=r(a[1]),h=o(),p=r(a[0]),$=o(),_(m.$$.fragment),g=o(),_(D.$$.fragment)},l(e){s=c(e,"H1",{});var r=n(s);t=i(r,a[1]),h=v(r),p=i(r,a[0]),r.forEach(l),$=v(e),N(m.$$.fragment,e),g=v(e),N(D.$$.fragment,e)},m(a,e){f(a,s,e),d(s,t),d(s,h),d(s,p),f(a,$,e),w(m,a,e),f(a,g,e),w(D,a,e),C=!0},p(a,[s]){(!C||2&s)&&u(t,a[1]),(!C||1&s)&&u(p,a[0]);const e={};!E&&2&s&&(E=!0,e.provinceName=a[1],P((()=>E=!1))),!T&&1&s&&(T=!0,e.sortBy=a[0],P((()=>T=!1))),m.$set(e);const r={};4&s&&(r.provinces=a[2]),D.$set(r)},i(a){C||(b(m.$$.fragment,a),b(D.$$.fragment,a),C=!0)},o(a){B(m.$$.fragment,a),B(D.$$.fragment,a),C=!1},d(a){a&&l(s),a&&l($),O(m,a),a&&l(g),O(D,a)}}}function M(a,s,t){let e,{data:r}=s,o="name",c="";return a.$$set=a=>{"data"in a&&t(3,r=a.data)},a.$$.update=()=>{11&a.$$.dirty&&t(2,e=function(a,s,t){const e=a.filter((a=>""===s||a.fullProvinceName.toLowerCase().indexOf(s.toLowerCase())>-1));return"name"!==t?e.sort(((a,s)=>+s[t].replace(",","")-+a[t].replace(",",""))):e}(r,c,o))},[o,c,e,r,function(a){c=a,t(1,c)},function(a){o=a,t(0,o)}]}class Y extends a{constructor(a){super(),s(this,a,M,G,t,{data:3})}}function J(a){let s,t,u,p,$,m,E,T,g,D,C,S;return E=new x({props:{caStats:a[0]}}),g=new q({props:{historicData:a[1],title:"Canada Covid-19"}}),C=new Y({props:{data:a[2]}}),{c(){s=o(),t=e("div"),u=e("div"),p=e("h1"),$=r("Covid 19 - US"),m=o(),_(E.$$.fragment),T=o(),_(g.$$.fragment),D=o(),_(C.$$.fragment),this.h()},l(a){V('[data-svelte="svelte-1m7wmeq"]',document.head).forEach(l),s=v(a),t=c(a,"DIV",{class:!0});var e=n(t);u=c(e,"DIV",{class:!0});var r=n(u);p=c(r,"H1",{});var o=n(p);$=i(o,"Covid 19 - US"),o.forEach(l),r.forEach(l),e.forEach(l),m=v(a),N(E.$$.fragment,a),T=v(a),N(g.$$.fragment,a),D=v(a),N(C.$$.fragment,a),this.h()},h(){document.title="Covid 19 US Tracker",h(u,"class","container"),h(t,"class","section header")},m(a,e){f(a,s,e),f(a,t,e),d(t,u),d(u,p),d(p,$),f(a,m,e),w(E,a,e),f(a,T,e),w(g,a,e),f(a,D,e),w(C,a,e),S=!0},p(a,[s]){const t={};1&s&&(t.caStats=a[0]),E.$set(t);const e={};2&s&&(e.historicData=a[1]),g.$set(e);const r={};4&s&&(r.data=a[2]),C.$set(r)},i(a){S||(b(E.$$.fragment,a),b(g.$$.fragment,a),b(C.$$.fragment,a),S=!0)},o(a){B(E.$$.fragment,a),B(g.$$.fragment,a),B(C.$$.fragment,a),S=!1},d(a){a&&l(s),a&&l(t),a&&l(m),O(E,a),a&&l(T),O(g,a),a&&l(D),O(C,a)}}}async function K(){try{const a=await j.caStats(),s=await j.historicCanadaStats();return{caStats:a,historicCanadaStats:s,provincesTable:await j.provincesData()}}catch(a){return console.log("There was an error in calling the API."),void console.error(a)}}function Q(a,s,t){let{caStats:e}=s,{historicCanadaStats:r}=s,{provincesTable:o}=s;return console.log(o),a.$$set=a=>{"caStats"in a&&t(0,e=a.caStats),"historicCanadaStats"in a&&t(1,r=a.historicCanadaStats),"provincesTable"in a&&t(2,o=a.provincesTable)},[e,r,o]}class W extends a{constructor(a){super(),s(this,a,Q,J,t,{caStats:0,historicCanadaStats:1,provincesTable:2})}}export{W as default,K as preload};
