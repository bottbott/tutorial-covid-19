import{M as t,_ as r,a as e,b as a,c as n,i as s,d as o,e as i,S as c,s as u,g as f,f as l,t as v,F as p,N as h,l as d,m,h as g,j as $,k as y,G as C,n as b,o as w,p as x,H as P,r as L,q as E,J as R,K as D,L as S}from"./client.a5cd0704.js";import{_ as j,r as k,p as F,C as I,a as N}from"./TableFilter.980c9679.js";function B(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,s=e(t);if(r){var o=e(this).constructor;n=Reflect.construct(s,arguments,o)}else n=s.apply(this,arguments);return a(this,n)}}function H(t){var r,e,a,n,s,o,i,c,u,j,k,F;return document.title=r="Covid 19 - "+t[0],u=new I({props:{caStats:t[1]}}),k=new N({props:{historicData:t[2],title:"Covid 19 - "+t[0]}}),{c:function(){e=f(),a=l("div"),n=l("div"),s=l("h1"),o=v("Covid 19 - "),i=v(t[0]),c=f(),p(u.$$.fragment),j=f(),p(k.$$.fragment),this.h()},l:function(r){h('[data-svelte="svelte-1x3lmyb"]',document.head).forEach(d),e=m(r),a=g(r,"DIV",{class:!0});var f=$(a);n=g(f,"DIV",{class:!0});var l=$(n);s=g(l,"H1",{});var v=$(s);o=y(v,"Covid 19 - "),i=y(v,t[0]),v.forEach(d),l.forEach(d),f.forEach(d),c=m(r),C(u.$$.fragment,r),j=m(r),C(k.$$.fragment,r),this.h()},h:function(){b(n,"class","container"),b(a,"class","section header")},m:function(t,r){w(t,e,r),w(t,a,r),x(a,n),x(n,s),x(s,o),x(s,i),w(t,c,r),P(u,t,r),w(t,j,r),P(k,t,r),F=!0},p:function(t,e){var a=L(e,1)[0];(!F||1&a)&&r!==(r="Covid 19 - "+t[0])&&(document.title=r),(!F||1&a)&&E(i,t[0]);var n={};2&a&&(n.caStats=t[1]),u.$set(n);var s={};4&a&&(s.historicData=t[2]),1&a&&(s.title="Covid 19 - "+t[0]),k.$set(s)},i:function(t){F||(R(u.$$.fragment,t),R(k.$$.fragment,t),F=!0)},o:function(t){D(u.$$.fragment,t),D(k.$$.fragment,t),F=!1},d:function(t){t&&d(e),t&&d(a),t&&d(c),S(u,t),t&&d(j),S(k,t)}}}function K(t){return T.apply(this,arguments)}function T(){return(T=j(t.mark((function r(e){var a,n,s;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("Loading province page..."),a=e.params.province,void 0!==F.provinceNames.find((function(t){return t.name.toLowerCase()===a.toLowerCase()||t.abbreviation.toLowerCase()===a.toLowerCase()}))){t.next=5;break}return this.error(404,"Province Not Found"),t.abrupt("return");case 5:return t.prev=5,console.log(a,"province before reassignment"),a=F.getProvinceKeys(a).apiPreference,console.log(a,"province after reassignment"),t.next=11,k.provinceStats(a);case 11:return n=t.sent,t.next=14,k.historicProvince(a);case 14:return s=t.sent,console.log("got the stats..."),console.log(n,"the stats"),t.abrupt("return",{province:a,stats:n,historic:s});case 20:t.prev=20,t.t0=t.catch(5),console.error(t.t0),this.error(500,"There was an error in calling the API. Please try again later. Error: ",t.t0);case 24:case"end":return t.stop()}}),r,this,[[5,20]])})))).apply(this,arguments)}function V(t,r,e){var a=r.province,n=r.stats,s=r.historic;return t.$$set=function(t){"province"in t&&e(0,a=t.province),"stats"in t&&e(1,n=t.stats),"historic"in t&&e(2,s=t.historic)},[a,n,s]}var _=function(t){r(a,c);var e=B(a);function a(t){var r;return n(this,a),r=e.call(this),s(o(r),t,V,H,u,{province:0,stats:1,historic:2}),r}return i(a)}();export{_ as default,K as preload};
