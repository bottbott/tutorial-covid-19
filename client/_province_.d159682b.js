import{S as s,i as e,s as t,a,e as o,t as r,z as i,G as n,f as c,g as l,c as h,b as v,d as f,A as p,h as d,j as g,k as m,B as $,l as u,D as C,E as w,F as b}from"./client.49cdcb8e.js";import{p as E,r as P,C as y,a as D}from"./TableFilter.41877a16.js";function L(s){let e,t,E,P,L,S,j,x,F,I,A,N;return document.title=e="Covid 19 - "+s[0],F=new y({props:{caStats:s[1]}}),A=new D({props:{historicData:s[2],title:"Covid 19 - "+s[0]}}),{c(){t=a(),E=o("div"),P=o("div"),L=o("h1"),S=r("Covid 19 - "),j=r(s[0]),x=a(),i(F.$$.fragment),I=a(),i(A.$$.fragment),this.h()},l(e){n('[data-svelte="svelte-1x3lmyb"]',document.head).forEach(c),t=l(e),E=h(e,"DIV",{class:!0});var a=v(E);P=h(a,"DIV",{class:!0});var o=v(P);L=h(o,"H1",{});var r=v(L);S=f(r,"Covid 19 - "),j=f(r,s[0]),r.forEach(c),o.forEach(c),a.forEach(c),x=l(e),p(F.$$.fragment,e),I=l(e),p(A.$$.fragment,e),this.h()},h(){d(P,"class","container"),d(E,"class","section header")},m(s,e){g(s,t,e),g(s,E,e),m(E,P),m(P,L),m(L,S),m(L,j),g(s,x,e),$(F,s,e),g(s,I,e),$(A,s,e),N=!0},p(s,[t]){(!N||1&t)&&e!==(e="Covid 19 - "+s[0])&&(document.title=e),(!N||1&t)&&u(j,s[0]);const a={};2&t&&(a.caStats=s[1]),F.$set(a);const o={};4&t&&(o.historicData=s[2]),1&t&&(o.title="Covid 19 - "+s[0]),A.$set(o)},i(s){N||(C(F.$$.fragment,s),C(A.$$.fragment,s),N=!0)},o(s){w(F.$$.fragment,s),w(A.$$.fragment,s),N=!1},d(s){s&&c(t),s&&c(E),s&&c(x),b(F,s),s&&c(I),b(A,s)}}}async function S(s){console.log("Loading province page...");let e=s.params.province;if(void 0!==E.provinceNames.find((s=>s.name.toLowerCase()===e.toLowerCase()||s.abbreviation.toLowerCase()===e.toLowerCase())))try{console.log(e,"province before reassignment"),e=E.getProvinceKeys(e).apiPreference,console.log(e,"province after reassignment");const s=await P.provinceStats(e),t=await P.historicProvince(e);return console.log("got the stats..."),console.log(s,"the stats"),{province:e,stats:s,historic:t}}catch(s){console.error(s),this.error(500,"There was an error in calling the API. Please try again later. Error: ",s)}else this.error(404,"Province Not Found")}function j(s,e,t){let{province:a}=e,{stats:o}=e,{historic:r}=e;return s.$$set=s=>{"province"in s&&t(0,a=s.province),"stats"in s&&t(1,o=s.stats),"historic"in s&&t(2,r=s.historic)},[a,o,r]}class x extends s{constructor(s){super(),e(this,s,j,L,t,{province:0,stats:1,historic:2})}}export{x as default,S as preload};
